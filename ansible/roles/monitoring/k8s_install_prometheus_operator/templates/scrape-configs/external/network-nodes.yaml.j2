{% if prometheus_monitor_components.external.networkNodes  %}
  {% if groups['network_node'] is defined and (groups['network_node'] | length > 0) %}
- job_name: 'cumulus-exporter'
  honor_labels: true
  static_configs:
    - targets:
    {% for host in groups['network_node'] %}
      - {{ hostvars[host].metrics_exporter_ip +":"+(cumulus_exporter_port | string) }}
    {% endfor %}
- job_name: 'network-node-exporter'
  honor_labels: true
  static_configs:
    - targets:
    {% for host in groups['network_node'] %}
      - {{ hostvars[host].metrics_exporter_ip +":"+(node_exporter_port | string) }}
    {% endfor %}
- job_name: 'network-frr-exporter'
  honor_labels: true
  static_configs:
    - targets:
    {% for host in groups['network_node'] %}
      - {{ hostvars[host].metrics_exporter_ip +":"+(frr_exporter_port | string) }}
    {% endfor %}
  {% endif %}
{% endif %}
